
# TDD

TDD에서는 테스트 자동화를 통해서 개발이 시작된 시점부터 완료될 때까지 가능한 한 빠른 시점 내에 그리고 자주 실패를 경험하도록 유도합니다. `TDD는 실패를 통해 배움을 늘려가는 기법입니다.` OK 조건을 사전에 정해두고 빠르게 실패를 경험하며, 그 조건을 등대로 삼아 실패상황을 최대한 빨리 극복하고자 노력합니다. 성공한 항목과 실패한 항목이 명확하고, 작업해야 하는 부분이 확실해집니다. `성공에 필요한 조건을 만들고, 실패하는 조건 항목을 성공시킵니다.` 그래서 빨리 실패하면 실패할수록 좀 더 성공에 가까워지는 묘한 개발 방식입니다.


# 리팩토링 

- 리팩토링을 수행하게 되는 정제 단계에서는 일반적으로 아래와 같은 질문에 대해 고민해야 합니다.

  - 소스의 가독성이 적절한가?
  - 중복된 코드는 없는가?
  - 이름이 잘못 부여된 메소드나 변수명은 없는가?
  - 구조의 개선이 필요한 부분은 없는가?


TDD의 긍정적인 부가효과 중 하나는 테스트 케이스를 수행할 때 `Java 언어의 문법적 측면으로만 바라보지 않고, 좀 더 업무적으로 더 생각할 수도 있습니다.` 예를 들어 계좌를 초기에 생성할 때 예치금 없이 계좌를 만들 수 있게 할 것인지 말 것인지와 같은 식으로 말입니다. 초반에 별 생각 없이 만들었던 테스트 케이스 자체가 계좌 클래스의 구조에 대해 조금 생각해보라고 개발자에게 말을 걸고 있습니다.


# 오류와 실패
실패는 `AssertEquals` 등 테스트 조건식을 만족시키지 못했다는 것을 의미합니다. 또, 그로 인해 내부적으로 `fail()`이 호출됐다는 의미이기도 합니다.
오류는 테스트 케이스 수행 중 예상치 못한 예외가 발생해서 테스트 수행을 멈췄다는 것을 뜻합니다. 만일 작성한 메소드 내부에서 `fail()`대신 예외가 발생하였다면, 실패가 아니라 오류로 간주됩니다. 즉, 아래와 같은 코드는 오류가 됩니다.

```java
@Test
public void testGetBalance() throw Exception{

    Account account = new Account(10000);
    if(account.getBalance() != 10000){
        throw new Exception();
    }
}
```
 
 테스트 케이스가 가치를 지니기 위해서는, 어떠한 경우에도 테스트 케이스 그 자체는 정상적으로 끝까지 수행되어야 합니다. 그래서 단정문을 실행한 결과 실제값이 예상값과는 다르다는 신호인 실패가 나오도록 테스트 케이스를 작성해야 합니다. 일반적으로 오류는 작성자가 의도하지 않은 예상치 못한 `실패(unexpected failure)`를 뜻하며, 이 경우 테스트 케이스 자체에 문제가 있음을 시사합니다. 따라서 본인이 작성한 `테스트 케이스`에 `오류`로 인한 실패가 발생하고 있다면, 빠른 시일 내에 실패로 카운트 될 수 있게 만들어야 합니다.
