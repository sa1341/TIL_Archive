# WAS와 웹로직

개발 업무를 하면서 내가 만든 어플리케이션을 배포하여 다른 사용자들이 사용하게 하려면 WAS(웹 어플리케이션 서버)가 필요합니다. 대중적인 WAS로는 Tomcat이 있습니다. Tomcat은 가볍기 때문에 대학생때 많이 사용했던 WAS였습니다. 개발 업무를 하면서 WEBLOGIC이라는 WAS에 웹 기반의 애플리케이션을 리눅스 기반의 OS에서 설치하게 되었습니다. WEBLOGIC도 톰캣과 마찬가지로 WAS로만 알고 있었지만, 규모가 큰 대기업에서 서버의 컨테이너로 많이 쓰이고 있기 때문에 웹로직에 대해서 살펴보겠습니다.

먼저 WAS의 개념을 알아야 하는데 간단하게 설명하면 동적인 페이지를 처리하는 서버를 지원해주는 웹 컨테이너라고 생각하면 됩니다. 기본적으로 html, jsp, gif와 같은 정적인 컨텐츠들은 웹 서버만으로 충분히 처리할수 있지만, 브라우저에서 사용자의 액션에 따른 동적인 페이지를 생성하기 위해서는 웹 서버만으로 처리하기에는 한계가 존재합니다. 그렇기 때문에 jsp, asp, php와 같은 서버 스크립트들이 등장하면서 그러한 스크립들을 처리할 수 있는 WAS라는 제품이 등장하게 되었습니다.

하지만 WAS도 사용자의 페이지에서 DB에 접근 요청이 들어오면 WAS를 통해서 DB에 접근하게 됩니다. 그렇기 때문에 WAS를 미들웨어라고 부르기도 합니다.

톰캣보다 대기업에서 웹로직, 웹 스피어, 제우스 같은 WAS를 많이 사용하는 이유는 Sun Microsystem사에서 EJB라는 자바 컴포넌트 모델이 나오게 되고, JDBC, JTA( 트랜잭션 처리), JNDI
(디렉토리 서비스)등의 강력한 기능을 수행할 수 있도록 EJB 컨테이너가 있는 WebLogic, WebSphere, Jeus등을 사용하는 것입니다.


뭐 복잡하게 말했지만 간단하게 말해서 톰캣보다 위에서 언급한 WAS(웹로직, 제우스)들이 더 안정적이고, 운영환경에서 장애처리를 해야하는 상황이 발생하면 비용이 발생하더라도 해당 WAS 기업들의 기술지원을 받을 수 있다는 장점이 있습니다.
한마디로 안정적인 측면이 더 크기 때문에 큰 규모의 서비스 업체에서 톰캣보다 위의 WAS들을 많이 사용합니다.

> 톰캣은 오픈소스로서 여러 기능들이 패키지화 되어 있지 않는 관계로 모듈이 꼬이면 문제가 자주 발생하는 단점이 있습니다. 물론 가볍운 웹 어플리케이션을 배포한다고 하면 굳이 톰캣을 사용해도 크게 위의 WAS들과 차이는 느끼지 못할 수 있습니다.

## 웹로직 구성요소

도메인
- 웹로직의 관리 단위를 의미합니다.
- 도메인에서 구성된 환경 및 자원은 동일 도메인내에서 적용됩니다.
- 웹로직을 사용하기 위해 필요한 스크립트와 서버로그의 기본위치입니다.
- 하나의 Admin 서버가 필수입니다.


Admin 서버
- 하나의 도메인을 관리하기 위한 관리 서버입니다.
- 도메인 구성 시 반드시 하나의 Admin 서버가 구성됩니다.
- 도메인의 구성 및 설정이 가능합니다.

Managed Server
- Admin 서버에 종속적인 웹로직 서버 인스턴스입니다.
- Admin 서버에서 설정한 구성과 환경으로 기동합니다.
- Managed Server 기동시 Admin 서버에 접속해 설정된 정보를 받아옵니다.
- 각 도메인상에 위치한 Managed Server는 해당 도메인에서 구성한 자원할당이 가능합니다.
- 실제 서비스는 Managed Server에 배포합니다.

시스템
- 논리적으로 Managed Server를 분리합니다.
- 노드 매니저의 관리 단위
- 웹로직 서버 인스턴스는 물리적으로 다른장비인지 인지하지 못하므로 웹로직 사용자가 논리적으로 분리합니다.

클러스터(Cluster)
- 무중단 페일오버를 위해 구성합니다.
- 같은 도메인의 두개 이상의 서버로 구성
- UDP 또는 멀티캐스트 통신을 기반으로 동작합니다.

노드 매니저
- 웹로직의 Admin 콘솔에서 웹로직을 기동 / 재기동 설정이 가능합니다.
- 원격으로 웹로직 서버 인스턴스 컨트롤이 가능합니다.




